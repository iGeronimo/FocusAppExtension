<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="styles.css">
  <style>
    body { width:300px; padding:20px; padding-bottom:28px; }
    .container { text-align:center; border-width:2px; padding:14px; border-radius:12px; margin:6px; }
    h1 { margin:0 0 20px 0; font-size:20px; font-weight:600; }
    .timer-display { font-size:44px; font-weight:700; margin:18px 0; font-family: 'Courier New', monospace; }
    .status { font-size:14px; margin:8px 0; opacity:0.9; }
  .controls { margin: 20px 0; }
    button { width: 90px; }
  .block-section { margin-top:20px; padding-top:20px; margin-bottom:14px; border-top:2px solid var(--border); }
    .block-current-btn { width:100%; font-size:16px; padding:12px; margin:10px 0; }
  .settings { margin-top:18px; padding-top:18px; border-top:2px solid var(--border); }
    .setting-row { display:flex; justify-content:space-between; align-items:center; margin:8px 0; }
    .setting-row label { font-size:12px; }
    .setting-row input { width: 60px; text-align:center; font-size:12px; }
    .setting-row input[type="checkbox"] { width:auto; padding:0; transform: scale(1.05); background: transparent; }
    .setting-row select { min-width:140px; }
    .setting-row input[type="range"] { width: 160px; height:6px; background:#efefef; border-radius:4px; }
    .session-counter { font-size: 13px; margin: 8px 0; }
    .current-site { font-size: 12px; opacity: 0.8; margin-bottom: 10px; word-break: break-all; }

    /* Compact times row */
    .times-row { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:8px; align-items:center; }
    .times-row .cell { display:flex; flex-direction:column; gap:4px; }
    .times-row label { font-size:11px; text-align:left; }
    .times-row input { width:100%; padding:6px 8px; }

    /* Hamburger menu overlay */
    .menu-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display:none; z-index: 999; }
  .menu-panel { position:absolute; top: 10px; right: 10px; left: 10px; border:1px solid var(--border); border-radius:12px; padding:16px; background: var(--card); }
    .menu-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .menu-header span { font-weight:600; }
    .menu-item { width:100%; text-align:left; margin:6px 0; }
  </style>
</head>
<body>
  <div class="container">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
      <h1 style="margin:0;">üçÖ Focus Blocker</h1>
      <div style="display:flex; gap:8px;">
        <button id="menuBtn" title="Menu" style="width:auto; padding:6px 10px; border-radius:8px; font-size:16px;">‚ò∞</button>
      </div>
    </div>
    
    <div class="timer-display" id="timerDisplay">25:00</div>
    <div class="status" id="status">Ready to focus!</div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    
    <div class="session-counter" id="sessionCounter">Session: 0</div>
    
    <div class="controls">
      <button id="playPauseBtn">Start</button>
      <button id="resetBtn">Reset</button>
    </div>
    
    <div class="block-section">
      <div class="current-site" id="currentSite">Loading current site...</div>
      <button id="blockCurrentBtn" class="block-current-btn">üö´ Block Current Site</button>
    </div>
    
    <div class="settings">
      <div class="times-row">
        <div class="cell">
          <label for="focusTime">Focus (min)</label>
          <input type="number" id="focusTime" min="1" max="60" value="25">
        </div>
        <div class="cell">
          <label for="breakTime">Break (min)</label>
          <input type="number" id="breakTime" min="1" max="30" value="5">
        </div>
        <div class="cell">
          <label for="longBreakTime">Long (min)</label>
          <input type="number" id="longBreakTime" min="1" max="60" value="15">
        </div>
      </div>
    </div>
  </div>

  <!-- Menu Overlay -->
  <div id="menuOverlay" class="menu-overlay">
    <div class="menu-panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="menu-header">
        <span>Menu</span>
        <button id="closeMenuBtn" class="btn" style="width:auto; padding:6px 10px;">‚úï</button>
      </div>
      <button id="menuLogBtn" class="menu-item">üìñ Reflection Log</button>
      <button id="menuStatsBtn" class="menu-item">üìä Stats</button>
      <button id="menuBlockedBtn" class="menu-item">üö´ Manage Blocked Sites</button>
      <button id="menuSettingsBtn" class="menu-item">‚öôÔ∏è Settings</button>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>